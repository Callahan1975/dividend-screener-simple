<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dividend Screener – Baseline</title>

  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.8/css/jquery.dataTables.min.css">
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.8/js/jquery.dataTables.min.js"></script>

  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    table.dataTable thead th { font-weight: bold; }
  </style>
</head>

<body>

<h1>Dividend Screener – Baseline</h1>

<table id="screener" class="display" style="width:100%">
  <thead>
    <tr>
      <th>Ticker</th>
      <th>Name</th>
      <th>Country</th>
      <th>Sector</th>
      <th>Price</th>
      <th>Dividend Yield</th>
      <th>Payout Ratio</th>
      <th>PE</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>

<script>
$(document).ready(function () {

  fetch("screener_results.csv")
    .then(r => r.text())
    .then(text => {
      const rows = text.trim().split("\n").slice(1);

      const data = rows.map(r => {
        const c = r.split(",");
        return [
          c[1],                         // Ticker
          c[2],                         // Name
          c[3],                         // Country
          c[6],                         // Sector
          c[8],                         // Price
          c[9] ? c[9] + " %" : "–",     // DividendYield_%
          c[10] ? c[10] + " %" : "–",   // PayoutRatio_%
          c[11]                         // PE
        ];
      });

      $('#screener').DataTable({
        data: data,
        pageLength: 25
      });
    });

});
</script>

</body>
</html>
