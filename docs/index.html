<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Dividend Screener - Decision View</title>

  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.8/css/jquery.dataTables.min.css" />
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.8/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>

  <style>
    body { font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial; margin:18px; }
    table.dataTable tbody tr:hover { background:#fafafa; }
  </style>
</head>

<body>
<h1>Dividend Screener â€“ Decision View</h1>

<table id="tbl" class="display" style="width:100%">
  <thead>
    <tr>
      <th>Name</th>
      <th>Country</th>
      <th>Sector</th>
      <th>Currency</th>
      <th>Price</th>
      <th>Yield</th>
      <th>DivCAGR(5Y)</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<script>
const CSV_URL = "data/screener_results/screener_results.csv";

Papa.parse(CSV_URL, {
  download: true,
  header: true,
  skipEmptyLines: true,
  complete: function(res) {
    $('#tbl').DataTable({
      data: res.data,
      pageLength: 50,
      columns: [
        { data: "Name" },
        { data: "Country" },
        { data: "Sector" },
        { data: "Currency" },
        { data: "Price" },
        { data: "Yield", render: d => d ? d.toFixed(2) + "%" : "" },
        { data: "DivCAGR(5Y)", render: d => d ? d.toFixed(1) + "%" : "" }
      ]
    });
  }
});
</script>

</body>
</html>
